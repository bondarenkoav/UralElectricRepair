<input list="{{ widget.name }}_list" type="{{ widget.type }}" name="{{ widget.name }}"
        {% if widget.value != None %} value="{{ widget.value|stringformat:'s' }}"{% endif %}
        {% for name, value in widget.attrs.items %}
            {% if value is not False %} {{ name }}
                {% if value is not True %}="{{ value|stringformat:'s' }}"{% endif %}
            {% endif %}
        {% endfor %}
<datalist id="{{ widget.name }}_list">
    {% for group_name, group_choices, group_index in widget.optgroups %}
        {% if group_name %}
            <optgroup label="{{ group_name }}">
        {% endif %}
        {% for option in group_choices %}
            {% include option.template_name with widget=option %}
        {% endfor %}
        {% if group_name %}
            </optgroup>
        {% endif %}
    {% endfor %}
</datalist>